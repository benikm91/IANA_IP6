<!--
  Standalone launcher for running a default Kobuki
 -->
<launch>
    <arg name="kobuki_publish_tf" default="true"/>

    <node pkg="nodelet" type="nodelet" name="mobile_base_nodelet_manager" args="manager"/>
    <node pkg="nodelet" type="nodelet" name="mobile_base" args="load kobuki_node/KobukiNodelet mobile_base_nodelet_manager">
        <rosparam file="./kobuki-minimal-base.yaml" command="load"/>
        <param name="publish_tf" value="$(arg kobuki_publish_tf)"/>
        <param name="cmd_vel_timeout" value="1"/>
        <remap from="mobile_base/odom" to="odom"/>
        <remap from="mobile_base/joint_states" to="joint_states"/>
    </node>
  
    <node pkg="diagnostic_aggregator" type="aggregator_node" name="diagnostic_aggregator" >
        <rosparam command="load" file="$(find kobuki_node)/param/diagnostics.yaml" />
    </node>
</launch>
